doctype html
html(lang='en')
	head
		meta(charset='utf-8')
		meta(http-equiv='X-UA-Compatible', content='IE=edge')
		meta(name='viewport', content='width=device-width, initial-scale=1')
		title Cloud Vision API
		link(href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css', rel='stylesheet')
		link(rel='stylesheet', type='text/css', href='style.css')
		script(src='script.js')
	body
		nav.navbar.navbar-inverse.navbar-fixed-top(role='navigation')
			.container
				.navbar-header
					a.navbar-brand(href='/') Cloud Vision


		.container
			.content
				h3 Google Cloud Vision
				form(action='/', method='post', enctype='multipart/form-data')
					.row
						.col-sm-6
							.form-group
								label(for='image') Image
								input#image.form-control(type='file', name='image')
						.col-sm-6
							.form-group
								label(for='image') Image
								input#image.form-control(type='file', name='image')

					.form-group
						label(for='imageType') Type of image feature:
						select.form-control(name='imageType')
							each option in defaultContext.featureTypes
								option= option

					.form-group
						label(for='maxResults') Max results:
						select.form-control(name='maxResults')
							option 1
							option 2
							option 3
							option 4
							option 5
							option 6
							option 7
							option 8
							option 9
							option 10
					.form-group
						button.btn.btn-success(type='submit') Submit

				if data
					-console.log(data)
					.panel.panel-default
						.panel-heading
							h3.panel-title Output
						.row
							each output in data
								-console.log(output.prettyprint)
								-console.log(output.imageUrl)
								-console.log(output.response)
								.col-sm-6
									#panel-body.panel-body
										pre.prettyprint!=output.prettyprint
										canvas#panel-canvas.canvas
										script.
											initCanvas(#{output.imageUrl}, #{output.response});